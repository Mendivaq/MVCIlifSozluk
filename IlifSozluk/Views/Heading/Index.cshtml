@using EntityLayer.Concrete
@model List<Heading>
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}
@{ 
    string color="";
}
<h1>Başlıklar</h1>
<a style="width:100%" href="/Heading/AddHeading" class="btn btn-inverse-success">Yeni Başlık Ekle</a>


@*<table class=" table table-hover">

    <tr>
        <th>ID</th>
        <th>BAŞLIK</th>
        <th>KATEGORİ</th>
        <th>YAZAR</th>


    </tr>
    @foreach (var item in Model)
    {
        <tr>
            <td> @item.HeadingID</td>
            <td> @item.HeadingName</td>
            <td> @item.Category.CategoryName</td>
            <td> @item.Writer.WriterName @item.Writer.WriterSurName</td>
        </tr>
    }


</table>*@
<div class="row">
    <div class="col-12 grid-margin">
        <div class="card">
            <div class="card-body">

                <div class="table-responsive">
                    <table class="table table-hover">
                        <thead>
                            <tr>
                                <th>#</th>
                                <th> Başlık Adı </th>
                                <th> Oluşturan Yazar </th>
                                <th> Kategori </th>
                                <th> İşlemler </th>
                                
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var item in Model)
                            {
                                if (item.Category.CategoryName == "Tiyatro")
                                {
                                    color = "badge badge-gradient-success";
                                }
                                if (item.Category.CategoryName == "Spor")
                                {
                                    color = "badge badge-gradient-warning";
                                }
                                if (item.Category.CategoryName == "yazılım")
                                {
                                    color = "badge badge-gradient-info";
                                }
                                if (item.Category.CategoryName == "Dizi")
                                {
                                    color = "badge badge-gradient-primary";
                                }
                                if (item.Category.CategoryName == "Film")
                                {
                                    color = "badge badge-gradient-dark";
                                }
                                if (item.Category.CategoryName == "Kitap")
                                {
                                    color = "badge badge-gradient-success";
                                }



                            <tr>
                                <td>@item.HeadingID</td>
                                <td>@item.HeadingName<br /><small>@(((DateTime)item.HeadingDate).ToString("dd-MMM-yyyy"))</small></td>
                                
                                
                                

                                <td>
                                    <img src="@item.Writer.WriterImage" class="mr-2" style="object-fit: cover; object-position: 50% 15%;" alt="image"> @item.Writer.WriterName @item.Writer.WriterSurName
                                </td>
                                <td>
                                    <label class="@color">@item.Category.CategoryName</label>
                                </td>
                                <td>
                                    <a href="/Content/ContentByHeading/@item.HeadingID" class="btn btn-info">İlgili İçerik</a>
                                    <a href="/Heading/EditHeading/@item.HeadingID" class="btn btn-warning">Düzenle</a>
                                    <button class="btn btn-danger">Sil</button>
                                </td>



                            </tr>

                            }
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
<br />


